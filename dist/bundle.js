!function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(i,r,function(e){return t[e]}.bind(null,r));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=2)}([function(t,e){t.exports=PIXI},function(t,e){t.exports=$},function(t,e,n){"use strict";n.r(e);var i,r=n(0),o=function(){function t(t,e,n,i,o,a){this.path=t,this.border=e,this.tileHeight=i,this.tileWidth=n,this.rows=o,this.columns=a,this.bigTexture=r.Texture.fromImage(t,!0,r.SCALE_MODES.NEAREST),this.textures=[]}return t.prototype.getTexture=function(t){if(this.textures[t])return this.textures[t];var e=Math.floor((t-1)/this.columns),n=(t-1)%this.columns,i=this.tileWidth,o=this.tileHeight,a=n*i+n*this.border,s=e*o+e*this.border,p=new r.Texture(this.bigTexture.baseTexture,new r.Rectangle(a,s,i,o));return this.textures[t]=p,p},t}(),a=function(){function t(){}return t.init=function(){document.addEventListener("keyup",t.onKeyUp),document.addEventListener("keydown",t.onKeyDown)},t.onKeyUp=function(e){for(var n in t.keyUps){var i=t.keyUps[n];i.key!=t.ANY_KEY&&e.key!=i.key||"function"==typeof i.onKeyUp&&i.onKeyUp(e)}},t.onKeyDown=function(e){for(var n in t.keyDowns){var i=t.keyDowns[n];i.key!=t.ANY_KEY&&e.key!=i.key||"function"==typeof i.onKeyDown&&i.onKeyDown(e)}},t.registerKey=function(e,n,i,r){t.keyDowns[r]={key:e,onKeyDown:n},t.keyUps[r]={key:e,onKeyUp:i}},t.unregisterKey=function(e){delete t.keyDowns[e],delete t.keyUps[e]},t.keyUps={},t.keyDowns={},t.ANY_KEY="any_key",t}(),s=function(){function t(){}return t.register=function(e,n){t.clients[e]={callback:n}},t.unregister=function(e){delete t.clients[e]},t.doStep=function(e){if(!t.isPaused)for(var n in t.clients){(0,t.clients[n].callback)(e)}},t.clients={},t.isPaused=!1,t}(),p=function(){function t(e,n,i,o){var p=this;this.keyDown=function(e){if(e.key!=p.lastKey)switch(p.lastKey=e.key,e.key){case p.upKey:p.changeDirection(t.UP),p.vy=-1*t.PLAYER_SPEED;break;case p.downKey:p.changeDirection(t.DOWN),p.vy=1*t.PLAYER_SPEED;break;case p.leftKey:p.changeDirection(t.LEFT),p.vx=-1*t.PLAYER_SPEED;break;case p.rightKey:p.changeDirection(t.RIGHT),p.vx=1*t.PLAYER_SPEED}},this.keyUp=function(e){switch(p.lastKey="",e.key){case p.upKey:case p.downKey:p.changeDirection(t.STOP),p.vy=0;break;case p.leftKey:case p.rightKey:p.changeDirection(t.STOP),p.vx=0}},this.doStep=function(t){var e=p.sprite.x+p.vx*t,n=p.sprite.y+p.vy*t;p.sprite.x=e,p.sprite.y=n},this.map=i,this.playerId=o,this.animations=[];for(var c=r.Texture.fromImage("data/assets/player_"+o+".png").baseTexture,u=0;u<4;u++){for(var y=[],l=0;l<3;l++){var f=new r.Texture(c,new r.Rectangle(l*t.SPRITE_WIDTH,u*t.SPRITE_HEIGHT,t.SPRITE_WIDTH,t.SPRITE_HEIGHT));y.push(f)}this.animations.push(y)}this.sprite=new r.extras.AnimatedSprite(this.animations[t.DOWN]),this.sprite.x=e,this.sprite.y=n,this.vx=0,this.vy=0,this.sprite.scale=t.SPRITE_SCALE,this.sprite.animationSpeed=.13,this.sprite.loop=!0,this.lastKey="",a.registerKey(a.ANY_KEY,this.keyDown,this.keyUp,"player"+o),s.register("player"+o,this.doStep)}return t.prototype.changeDirection=function(e){0<=e&&e<=3?(this.sprite.textures=this.animations[e],this.sprite.play()):e==t.STOP&&this.sprite.stop()},t.prototype.setKeys=function(t,e,n,i,r,o){this.upKey=t,this.downKey=e,this.leftKey=n,this.rightKey=i,this.actionKey=r,this.selectKey=o},t.UP=0,t.RIGHT=1,t.DOWN=2,t.LEFT=3,t.STOP=4,t.SPRITE_WIDTH=32,t.SPRITE_HEIGHT=36,t.SPRITE_SCALE=new r.Point(1.5,1.5),t.PLAYER_SPEED=4,t}(),c=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),u=function(t){function e(e,n,i,r){var o=t.call(this,e)||this;return o.gridX=n,o.gridY=i,o.map=r,o.x=n*r.finalTileWidth,o.y=i*r.finalTileHeight,o}return c(e,t),e.prototype.onHit=function(t){this.tileObject&&this.tileObject.onHit(t)},e.prototype.onPlant=function(t){this.tileObject&&this.tileObject.onPlant(t)},e.prototype.onPlace=function(t){null==this.tileObject&&console.log("Placing Pumpkin TNT")},e.prototype.onHarvest=function(t){this.tileObject&&this.tileObject.onHarvest(t)},e.prototype.isFree=function(){return!this.tileObject},e}(r.Sprite),y=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),l=function(t){function e(e,n){var i=t.call(this,e)||this;if(i.parent=n,!i.parent.isFree())throw new Error("Can't add TileObject to a Tile that allready has an TileObject");return i.parent.tileObject=i,i.x=i.parent.x,i.y=i.parent.y,i}return y(e,t),e.prototype.onHit=function(t){},e.prototype.onPlant=function(t){},e.prototype.onHarvest=function(t){},e.prototype.onDestroy=function(t){delete this.parent.tileObject,this.destroy()},e}(r.Sprite),f=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),h=function(t){function e(e,n,i){var r=t.call(this,e,n)||this;return r.owner=i,r}return f(e,t),e.prototype.onHit=function(t){},e.prototype.onDestroy=function(t){},e}(l),d=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),g=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return d(e,t),e.prototype.onHit=function(t){},e.prototype.onDestroy=function(t){},e.prototype.onHarvest=function(t){},e}(l),_=n(1),v=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),P=function(t){function e(){var e=t.call(this)||this;return e.tileContainer=new r.Container,e.addChild(e.tileContainer),e.tileObjectContainer=new r.Container,e.addChild(e.tileObjectContainer),e.playerContainer=new r.Container,e.addChild(e.playerContainer),e.players=[],e}return v(e,t),e.prototype.getMapObjectProperty=function(t,e){for(var n=0,i=t.properties;n<i.length;n++){var r=i[n];if(r.name==e)return r.value}},e.loadMap=function(t,n,i){var o=new e,a=new r.Point(e.MAP_ZOOM,e.MAP_ZOOM);o.finalTileWidth=n.tileWidth*a.x,o.finalTileHeight=n.tileHeight*a.y,o.spritesheet=n,_.getJSON(t,{},(function(t){for(var e=0,r=t.layers;e<r.length;e++){if("tilelayer"==(P=r[e]).type){o.gridWidth=P.width,o.gridHeight=P.height,o.tiles=new Array(o.gridHeight);for(var s=0;s<o.tiles.length;s++)o.tiles[s]=new Array(o.gridWidth);for(var c=0;c<P.height;c++)for(var y=0;y<P.width;y++){var l=c*P.width+y;if(P.data[l]>0){var f=n.getTexture(P.data[l]),d=new u(f,c,y,o);o.addTile(d)}}}}for(var _=0,v=t.layers;_<v.length;_++){var P;if("objectgroup"==(P=v[_]).type){for(var O=0,w=P.objects;O<w.length;O++){if("player"==(A=w[O]).type){var T=Math.round(A.x*a.x),b=(Math.round(A.y)-A.height)*a.y,E=o.getMapObjectProperty(A,"playerId"),S=new p(T,b,this,E);o.addPlayer(S)}}for(var x=0,j=P.objects;x<j.length;x++){var A;if("tower"==(A=j[x]).type){f=n.getTexture(A.gid);var k=o.getMapObjectProperty(A,"owner"),K=o.players[k],D=o.getTileNearestTo(A),C=new h(f,D,K);o.addTileObject(C)}else if("tree"==A.type){f=n.getTexture(A.gid);var m=o.getTileNearestTo(A),I=new g(f,m);o.addTileObject(I)}}}}i(o)}))},e.prototype.addPlayer=function(t){this.players[t.playerId]=t,this.playerContainer.addChild(t.sprite)},e.prototype.addTileObject=function(t){t.scale=e.SPRITE_SCALE,this.playerContainer.addChild(t)},e.prototype.addTile=function(t){t.x=t.gridX*this.spritesheet.tileWidth*e.SPRITE_SCALE.x,t.y=t.gridY*this.spritesheet.tileHeight*e.SPRITE_SCALE.y,t.scale=e.SPRITE_SCALE,this.tiles[t.gridY][t.gridX]=t,this.tileContainer.addChild(t)},e.prototype.pause=function(){this.isPaused=!0},e.prototype.play=function(){this.isPaused=!1},e.prototype.getObjectCoordinates=function(t){var n=t.x*e.SPRITE_SCALE.x/this.finalTileWidth;n=Math.round(n);var i=(t.y-t.height)*e.SPRITE_SCALE.y/this.finalTileHeight;return{gridX:n,gridY:i=Math.round(i)}},e.prototype.getTileNearestTo=function(t){var e=this.getObjectCoordinates(t);return this.tiles[e.gridY][e.gridX]},e.MAP_ZOOM=4,e.SPRITE_SCALE=new r.Point(e.MAP_ZOOM,e.MAP_ZOOM),e}(r.Container),O=new o("data/assets/spritesheet.png",1,16,16,31,57);(function(){function t(){}return t.startGame=function(){var e=new function(t,e){this.width=t,this.height=e}(512,512);t.pixiApp=new r.Application(e),document.body.appendChild(t.pixiApp.view),a.init(),t.pixiApp.ticker.add(s.doStep),P.loadMap("data/maps/map1.json",O,(function(e){console.log("Map parsed"),t.map=e,t.pixiApp.stage.addChild(e),t.pixiApp.ticker.start();var n=e.players;n[0].setKeys("ArrowUp","ArrowDown","ArrowLeft","ArrowRight","m","n"),n[1].setKeys("w","s","a","d","x","y")}))},t})().startGame()}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIFwiUElYSVwiIiwid2VicGFjazovLy9leHRlcm5hbCBcIiRcIiIsIndlYnBhY2s6Ly8vLi9zcmMvbW9kZWwvVGlsZWRTcHJpdGVzaGVldC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvbW9kZWwvS2V5Ym9hcmRNYW5hZ2VyLnRzIiwid2VicGFjazovLy8uL3NyYy9tb2RlbC9VcGRhdGVTY2hlZHVsZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL21vZGVsL1BsYXllci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvbW9kZWwvVGlsZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvbW9kZWwvVGlsZU9iamVjdC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvbW9kZWwvVG93ZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL21vZGVsL1RyZWUudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL21vZGVsL1RpbGVkTWFwLnRzIiwid2VicGFjazovLy8uL3NyYy9tb2RlbC9HYW1lTWFuYWdlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvaW5kZXgudHMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJQSVhJIiwiJCIsInBhdGgiLCJib3JkZXIiLCJ0aWxlV2lkdGgiLCJ0aWxlSGVpZ2h0Iiwicm93cyIsImNvbHVtbnMiLCJ0aGlzIiwiYmlnVGV4dHVyZSIsImZyb21JbWFnZSIsIk5FQVJFU1QiLCJ0ZXh0dXJlcyIsImdldFRleHR1cmUiLCJnaWQiLCJyb3ciLCJNYXRoIiwiZmxvb3IiLCJjb2x1bW4iLCJ4IiwieSIsImJhc2VUZXh0dXJlIiwiaW5pdCIsImRvY3VtZW50IiwiYWRkRXZlbnRMaXN0ZW5lciIsIktleWJvYXJkTWFuYWdlciIsIm9uS2V5VXAiLCJvbktleURvd24iLCJldmVudCIsImtleVVwcyIsImVsZW1lbnQiLCJBTllfS0VZIiwia2V5RG93bnMiLCJyZWdpc3RlcktleSIsImlkZW50aWZpZXIiLCJ1bnJlZ2lzdGVyS2V5IiwicmVnaXN0ZXIiLCJpZCIsImNhbGxiYWNrIiwiVXBkYXRlU2NoZWR1bGVyIiwiY2xpZW50cyIsInVucmVnaXN0ZXIiLCJkb1N0ZXAiLCJkZWx0YSIsImlzUGF1c2VkIiwiY3VycmVudENhbGxiYWNrIiwibWFwIiwicGxheWVySWQiLCJrZXlEb3duIiwibGFzdEtleSIsInVwS2V5IiwiY2hhbmdlRGlyZWN0aW9uIiwiUGxheWVyIiwiVVAiLCJ2eSIsIlBMQVlFUl9TUEVFRCIsImRvd25LZXkiLCJET1dOIiwibGVmdEtleSIsIkxFRlQiLCJ2eCIsInJpZ2h0S2V5IiwiUklHSFQiLCJrZXlVcCIsIlNUT1AiLCJuZXdYIiwic3ByaXRlIiwibmV3WSIsImFuaW1hdGlvbnMiLCJ0ZXh0dXJlQXJyYXkiLCJTUFJJVEVfV0lEVEgiLCJTUFJJVEVfSEVJR0hUIiwicHVzaCIsIkFuaW1hdGVkU3ByaXRlIiwic2NhbGUiLCJTUFJJVEVfU0NBTEUiLCJhbmltYXRpb25TcGVlZCIsImxvb3AiLCJkaXJlY3Rpb24iLCJwbGF5Iiwic3RvcCIsInNldEtleXMiLCJhY3Rpb25LZXkiLCJzZWxlY3RLZXkiLCJ0ZXh0dXJlIiwiZ3JpZFgiLCJncmlkWSIsImZpbmFsVGlsZVdpZHRoIiwiZmluYWxUaWxlSGVpZ2h0Iiwib25IaXQiLCJoaXRFdmVudCIsInRpbGVPYmplY3QiLCJvblBsYW50IiwicGxhbnQiLCJvblBsYWNlIiwicHVtcGtpbiIsInVuZGVmaW5lZCIsImNvbnNvbGUiLCJsb2ciLCJvbkhhcnZlc3QiLCJpbml0aWF0b3IiLCJpc0ZyZWUiLCJwYXJlbnQiLCJFcnJvciIsImhpdGV2ZW50Iiwib25EZXN0cm95IiwiZGVzdHJveSIsIm93bmVyIiwiVGlsZU9iamVjdCIsInRpbGVDb250YWluZXIiLCJhZGRDaGlsZCIsInRpbGVPYmplY3RDb250YWluZXIiLCJwbGF5ZXJDb250YWluZXIiLCJwbGF5ZXJzIiwiZ2V0TWFwT2JqZWN0UHJvcGVydHkiLCJtYXBPYmplY3QiLCJwcm9wZXJ0aWVzIiwicHJvcCIsImxvYWRNYXAiLCJtYXBQYXRoIiwic3ByaXRlc2hlZXQiLCJUaWxlZE1hcCIsIk1BUF9aT09NIiwibWFwRGF0YSIsImxheWVycyIsInRsIiwidHlwZSIsImdyaWRXaWR0aCIsIndpZHRoIiwiZ3JpZEhlaWdodCIsImhlaWdodCIsInRpbGVzIiwiQXJyYXkiLCJsZW5ndGgiLCJpbmRleCIsImRhdGEiLCJuZXdUaWxlIiwiVGlsZSIsImFkZFRpbGUiLCJvYmplY3RzIiwiY28iLCJyb3VuZCIsIm5ld1BsYXllciIsImFkZFBsYXllciIsIm93bmVySWQiLCJnZXRUaWxlTmVhcmVzdFRvIiwibmV3VG93ZXIiLCJUb3dlciIsImFkZFRpbGVPYmplY3QiLCJuZXdUcmVlIiwiVHJlZSIsInBsYXllciIsInRpbGUiLCJwYXVzZSIsImdldE9iamVjdENvb3JkaW5hdGVzIiwieFRpbGVzIiwieVRpbGVzIiwicG9zIiwiU1BSSVRFU0hFRVQiLCJzdGFydEdhbWUiLCJwaXhpT3B0aW9ucyIsIkdhbWVNYW5hZ2VyIiwicGl4aUFwcCIsImJvZHkiLCJhcHBlbmRDaGlsZCIsInZpZXciLCJ0aWNrZXIiLCJhZGQiLCJwYXJzZWRNYXAiLCJzdGFnZSIsInN0YXJ0Il0sIm1hcHBpbmdzIjoiYUFDRSxJQUFJQSxFQUFtQixHQUd2QixTQUFTQyxFQUFvQkMsR0FHNUIsR0FBR0YsRUFBaUJFLEdBQ25CLE9BQU9GLEVBQWlCRSxHQUFVQyxRQUduQyxJQUFJQyxFQUFTSixFQUFpQkUsR0FBWSxDQUN6Q0csRUFBR0gsRUFDSEksR0FBRyxFQUNISCxRQUFTLElBVVYsT0FOQUksRUFBUUwsR0FBVU0sS0FBS0osRUFBT0QsUUFBU0MsRUFBUUEsRUFBT0QsUUFBU0YsR0FHL0RHLEVBQU9FLEdBQUksRUFHSkYsRUFBT0QsUUFLZkYsRUFBb0JRLEVBQUlGLEVBR3hCTixFQUFvQlMsRUFBSVYsRUFHeEJDLEVBQW9CVSxFQUFJLFNBQVNSLEVBQVNTLEVBQU1DLEdBQzNDWixFQUFvQmEsRUFBRVgsRUFBU1MsSUFDbENHLE9BQU9DLGVBQWViLEVBQVNTLEVBQU0sQ0FBRUssWUFBWSxFQUFNQyxJQUFLTCxLQUtoRVosRUFBb0JrQixFQUFJLFNBQVNoQixHQUNYLG9CQUFYaUIsUUFBMEJBLE9BQU9DLGFBQzFDTixPQUFPQyxlQUFlYixFQUFTaUIsT0FBT0MsWUFBYSxDQUFFQyxNQUFPLFdBRTdEUCxPQUFPQyxlQUFlYixFQUFTLGFBQWMsQ0FBRW1CLE9BQU8sS0FRdkRyQixFQUFvQnNCLEVBQUksU0FBU0QsRUFBT0UsR0FFdkMsR0FEVSxFQUFQQSxJQUFVRixFQUFRckIsRUFBb0JxQixJQUMvQixFQUFQRSxFQUFVLE9BQU9GLEVBQ3BCLEdBQVcsRUFBUEUsR0FBOEIsaUJBQVZGLEdBQXNCQSxHQUFTQSxFQUFNRyxXQUFZLE9BQU9ILEVBQ2hGLElBQUlJLEVBQUtYLE9BQU9ZLE9BQU8sTUFHdkIsR0FGQTFCLEVBQW9Ca0IsRUFBRU8sR0FDdEJYLE9BQU9DLGVBQWVVLEVBQUksVUFBVyxDQUFFVCxZQUFZLEVBQU1LLE1BQU9BLElBQ3RELEVBQVBFLEdBQTRCLGlCQUFURixFQUFtQixJQUFJLElBQUlNLEtBQU9OLEVBQU9yQixFQUFvQlUsRUFBRWUsRUFBSUUsRUFBSyxTQUFTQSxHQUFPLE9BQU9OLEVBQU1NLElBQVFDLEtBQUssS0FBTUQsSUFDOUksT0FBT0YsR0FJUnpCLEVBQW9CNkIsRUFBSSxTQUFTMUIsR0FDaEMsSUFBSVMsRUFBU1QsR0FBVUEsRUFBT3FCLFdBQzdCLFdBQXdCLE9BQU9yQixFQUFnQixTQUMvQyxXQUE4QixPQUFPQSxHQUV0QyxPQURBSCxFQUFvQlUsRUFBRUUsRUFBUSxJQUFLQSxHQUM1QkEsR0FJUlosRUFBb0JhLEVBQUksU0FBU2lCLEVBQVFDLEdBQVksT0FBT2pCLE9BQU9rQixVQUFVQyxlQUFlMUIsS0FBS3VCLEVBQVFDLElBR3pHL0IsRUFBb0JrQyxFQUFJLEdBSWpCbEMsRUFBb0JBLEVBQW9CbUMsRUFBSSxHLGdCQ2xGckRoQyxFQUFPRCxRQUFVa0MsTSxjQ0FqQmpDLEVBQU9ELFFBQVVtQyxHLGlEQ0VqQixhQVdDLFdBQVlDLEVBQUtDLEVBQU9DLEVBQVVDLEVBQVdDLEVBQUtDLEdBQ2pEQyxLQUFLTixLQUFPQSxFQUNaTSxLQUFLTCxPQUFTQSxFQUNkSyxLQUFLSCxXQUFhQSxFQUNsQkcsS0FBS0osVUFBWUEsRUFDakJJLEtBQUtGLEtBQU9BLEVBQ1pFLEtBQUtELFFBQVVBLEVBQ2ZDLEtBQUtDLFdBQWEsVUFBUUMsVUFBVVIsR0FBTSxFQUFNLGNBQVlTLFNBQzVESCxLQUFLSSxTQUFXLEdBMEJsQixPQXZCQyxZQUFBQyxXQUFBLFNBQVdDLEdBRVYsR0FBSU4sS0FBS0ksU0FBU0UsR0FDaEIsT0FBT04sS0FBS0ksU0FBU0UsR0FHckIsSUFBSUMsRUFBYUMsS0FBS0MsT0FBT0gsRUFBTSxHQUFLTixLQUFLRCxTQUN6Q1csR0FBaUJKLEVBQU0sR0FBS04sS0FBS0QsUUFFakNILEVBQW1CSSxLQUFLSixVQUN4QkMsRUFBb0JHLEtBQUtILFdBRXpCYyxFQUFXRCxFQUFTZCxFQUFZYyxFQUFTVixLQUFLTCxPQUM5Q2lCLEVBQVdMLEVBQU1WLEVBQWFVLEVBQU1QLEtBQUtMLE9BRXpDakIsRUFBWSxJQUFJLFVBQVFzQixLQUFLQyxXQUFXWSxZQUFhLElBQUksWUFBVUYsRUFBR0MsRUFBR2hCLEVBQVdDLElBR3hGLE9BREFHLEtBQUtJLFNBQVNFLEdBQU81QixFQUNkQSxHQUtYLEVBN0NBLEdDRkEsMkJBNkNBLE9BdkNXLEVBQUFvQyxLQUFQLFdBQ0lDLFNBQVNDLGlCQUFpQixRQUFTQyxFQUFnQkMsU0FDbkRILFNBQVNDLGlCQUFpQixVQUFXQyxFQUFnQkUsWUFHbEQsRUFBQUQsUUFBUCxTQUFlRSxHQUNYLElBQUssSUFBTTVELEtBQUt5RCxFQUFnQkksT0FBUSxDQUNwQyxJQUFNQyxFQUFVTCxFQUFnQkksT0FBTzdELEdBQ25DOEQsRUFBUXZDLEtBQU9rQyxFQUFnQk0sU0FBV0gsRUFBTXJDLEtBQU91QyxFQUFRdkMsS0FDakMsbUJBQW5CdUMsRUFBUUosU0FDZkksRUFBUUosUUFBUUUsS0FNekIsRUFBQUQsVUFBUCxTQUFpQkMsR0FDYixJQUFLLElBQU01RCxLQUFLeUQsRUFBZ0JPLFNBQVUsQ0FDdEMsSUFBTUYsRUFBVUwsRUFBZ0JPLFNBQVNoRSxHQUNyQzhELEVBQVF2QyxLQUFPa0MsRUFBZ0JNLFNBQVdILEVBQU1yQyxLQUFPdUMsRUFBUXZDLEtBQy9CLG1CQUFyQnVDLEVBQVFILFdBQ2ZHLEVBQVFILFVBQVVDLEtBTTNCLEVBQUFLLFlBQVAsU0FBbUIxQyxFQUFLb0MsRUFBV0QsRUFBU1EsR0FDeENULEVBQWdCTyxTQUFTRSxHQUFjLENBQUUzQyxJQUFLQSxFQUFLb0MsVUFBV0EsR0FDOURGLEVBQWdCSSxPQUFPSyxHQUFjLENBQUUzQyxJQUFLQSxFQUFLbUMsUUFBU0EsSUFHdkQsRUFBQVMsY0FBUCxTQUFxQkQsVUFDVlQsRUFBZ0JPLFNBQVNFLFVBQ3pCVCxFQUFnQkksT0FBT0ssSUF0QzNCLEVBQUFMLE9BQVMsR0FDVCxFQUFBRyxTQUFXLEdBQ1gsRUFBQUQsUUFBVSxVQXlDckIsRUE3Q0EsR0NBQSwyQkEwQkEsT0FyQlcsRUFBQUssU0FBUCxTQUFnQkMsRUFBWUMsR0FDeEJDLEVBQWdCQyxRQUFRSCxHQUFNLENBQzFCQyxTQUFVQSxJQUlYLEVBQUFHLFdBQVAsU0FBa0JKLFVBQ1BFLEVBQWdCQyxRQUFRSCxJQUc1QixFQUFBSyxPQUFQLFNBQWNDLEdBQ1YsSUFBS0osRUFBZ0JLLFNBQ2pCLElBQUssSUFBSTVFLEtBQUt1RSxFQUFnQkMsUUFBUyxFQUVuQ0ssRUFEc0JOLEVBQWdCQyxRQUFReEUsR0FBR3NFLFVBQ2pDSyxLQWpCckIsRUFBQUgsUUFBa0IsR0FDbEIsRUFBQUksVUFBb0IsRUF1Qi9CLEVBMUJBLEdDS0EsYUE4QkksV0FBWXpCLEVBQVdDLEVBQVcwQixFQUFjQyxHQUFoRCxXQWlEQSxLQUFBQyxRQUFVLFNBQUNwQixHQUNQLEdBQUlBLEVBQU1yQyxLQUFPLEVBQUswRCxRQUVsQixPQURBLEVBQUtBLFFBQVVyQixFQUFNckMsSUFDYnFDLEVBQU1yQyxLQUNWLEtBQUssRUFBSzJELE1BQ04sRUFBS0MsZ0JBQWdCQyxFQUFPQyxJQUM1QixFQUFLQyxJQUFNLEVBQUlGLEVBQU9HLGFBQ3RCLE1BQ0osS0FBSyxFQUFLQyxRQUNOLEVBQUtMLGdCQUFnQkMsRUFBT0ssTUFDNUIsRUFBS0gsR0FBSyxFQUFJRixFQUFPRyxhQUNyQixNQUNKLEtBQUssRUFBS0csUUFDTixFQUFLUCxnQkFBZ0JDLEVBQU9PLE1BQzVCLEVBQUtDLElBQU0sRUFBSVIsRUFBT0csYUFDdEIsTUFDSixLQUFLLEVBQUtNLFNBQ04sRUFBS1YsZ0JBQWdCQyxFQUFPVSxPQUM1QixFQUFLRixHQUFLLEVBQUlSLEVBQU9HLGVBT3JDLEtBQUFRLE1BQVEsU0FBQ25DLEdBRUwsT0FEQSxFQUFLcUIsUUFBVSxHQUNQckIsRUFBTXJDLEtBQ1YsS0FBSyxFQUFLMkQsTUFJVixLQUFLLEVBQUtNLFFBQ04sRUFBS0wsZ0JBQWdCQyxFQUFPWSxNQUM1QixFQUFLVixHQUFLLEVBQ1YsTUFDSixLQUFLLEVBQUtJLFFBSVYsS0FBSyxFQUFLRyxTQUNOLEVBQUtWLGdCQUFnQkMsRUFBT1ksTUFDNUIsRUFBS0osR0FBSyxJQU10QixLQUFBbEIsT0FBUyxTQUFDQyxHQUVOLElBQUlzQixFQUFPLEVBQUtDLE9BQU8vQyxFQUFJLEVBQUt5QyxHQUFLakIsRUFDakN3QixFQUFPLEVBQUtELE9BQU85QyxFQUFJLEVBQUtrQyxHQUFLWCxFQUVyQyxFQUFLdUIsT0FBTy9DLEVBQUk4QyxFQUNoQixFQUFLQyxPQUFPOUMsRUFBSStDLEdBdEdoQjNELEtBQUtzQyxJQUFNQSxFQUNYdEMsS0FBS3VDLFNBQVdBLEVBQ2hCdkMsS0FBSzRELFdBQWEsR0FFbEIsSUFEQSxJQUFJL0MsRUFBMkIsVUFBUVgsVUFBVSxzQkFBc0JxQyxFQUFRLFFBQVExQixZQUM5RU4sRUFBTSxFQUFHQSxFQUFNLEVBQUdBLElBQU8sQ0FFOUIsSUFEQSxJQUFJc0QsRUFBMEIsR0FDckJuRCxFQUFTLEVBQUdBLEVBQVMsRUFBR0EsSUFBVSxDQUN2QyxJQUFJaEMsRUFBSSxJQUFJLFVBQVFtQyxFQUFhLElBQUksWUFBVUgsRUFBU2tDLEVBQU9rQixhQUFjdkQsRUFBTXFDLEVBQU9tQixjQUFlbkIsRUFBT2tCLGFBQWNsQixFQUFPbUIsZ0JBQ3JJRixFQUFhRyxLQUFLdEYsR0FFdEJzQixLQUFLNEQsV0FBV0ksS0FBS0gsR0FHekI3RCxLQUFLMEQsT0FBUyxJQUFJLFNBQU9PLGVBQWVqRSxLQUFLNEQsV0FBV2hCLEVBQU9LLE9BQy9EakQsS0FBSzBELE9BQU8vQyxFQUFJQSxFQUNoQlgsS0FBSzBELE9BQU85QyxFQUFJQSxFQUNoQlosS0FBS29ELEdBQUssRUFDVnBELEtBQUs4QyxHQUFLLEVBQ1Y5QyxLQUFLMEQsT0FBT1EsTUFBUXRCLEVBQU91QixhQUMzQm5FLEtBQUswRCxPQUFPVSxlQUFpQixJQUM3QnBFLEtBQUswRCxPQUFPVyxNQUFPLEVBQ25CckUsS0FBS3lDLFFBQVUsR0FHZnhCLEVBQWdCUSxZQUFZUixFQUFnQk0sUUFBUXZCLEtBQUt3QyxRQUFReEMsS0FBS3VELE1BQU0sU0FBU2hCLEdBQ3JGUixFQUFnQkgsU0FBUyxTQUFTVyxFQUFTdkMsS0FBS2tDLFFBaUZ4RCxPQTdFSSxZQUFBUyxnQkFBQSxTQUFnQjJCLEdBQ1IsR0FBS0EsR0FBYUEsR0FBYSxHQUMvQnRFLEtBQUswRCxPQUFPdEQsU0FBV0osS0FBSzRELFdBQVdVLEdBQ3ZDdEUsS0FBSzBELE9BQU9hLFFBRVBELEdBQWExQixFQUFPWSxNQUN6QnhELEtBQUswRCxPQUFPYyxRQUlwQixZQUFBQyxRQUFBLFNBQVEvQixFQUFNTSxFQUFRRSxFQUFRRyxFQUFTcUIsRUFBVUMsR0FDN0MzRSxLQUFLMEMsTUFBUUEsRUFDYjFDLEtBQUtnRCxRQUFVQSxFQUNmaEQsS0FBS2tELFFBQVVBLEVBQ2ZsRCxLQUFLcUQsU0FBV0EsRUFDaEJyRCxLQUFLMEUsVUFBWUEsRUFDakIxRSxLQUFLMkUsVUFBWUEsR0F6RWQsRUFBQTlCLEdBQWEsRUFDYixFQUFBUyxNQUFnQixFQUNoQixFQUFBTCxLQUFlLEVBQ2YsRUFBQUUsS0FBZSxFQUNmLEVBQUFLLEtBQWUsRUFFZixFQUFBTSxhQUF1QixHQUN2QixFQUFBQyxjQUF3QixHQUN4QixFQUFBSSxhQUFzQixJQUFJLFFBQU0sSUFBSyxLQUNyQyxFQUFBcEIsYUFBZSxFQTZIMUIsRUF6SUEsRyxvVENHQSxjQU9JLFdBQVk2QixFQUFrQkMsRUFBZUMsRUFBZXhDLEdBQTVELE1BQ0ksWUFBTXNDLElBQVEsSyxPQUNkLEVBQUtDLE1BQVFBLEVBQ2IsRUFBS0MsTUFBUUEsRUFDYixFQUFLeEMsSUFBTUEsRUFFWCxFQUFLM0IsRUFBSWtFLEVBQVF2QyxFQUFJeUMsZUFDckIsRUFBS25FLEVBQUlrRSxFQUFReEMsRUFBSTBDLGdCLEVBb0M3QixPQWxEMEIsT0FpQnRCLFlBQUFDLE1BQUEsU0FBTUMsR0FDRWxGLEtBQUttRixZQUNMbkYsS0FBS21GLFdBQVdGLE1BQU1DLElBSTlCLFlBQUFFLFFBQUEsU0FBUUMsR0FDQXJGLEtBQUttRixZQUNMbkYsS0FBS21GLFdBQVdDLFFBQVFDLElBSWhDLFlBQUFDLFFBQUEsU0FBUUMsR0FDbUJDLE1BQW5CeEYsS0FBS21GLFlBQ0xNLFFBQVFDLElBQUksd0JBSXBCLFlBQUFDLFVBQUEsU0FBVUMsR0FDRjVGLEtBQUttRixZQUNMbkYsS0FBS21GLFdBQVdRLFVBQVVDLElBSWxDLFlBQUFDLE9BQUEsV0FDSSxPQUFPN0YsS0FBS21GLFlBUXBCLEVBbERBLENBQTBCLFUsMlVDRjFCLGNBS0ksV0FBWVAsRUFBa0JrQixHQUE5QixNQUNJLFlBQU1sQixJQUFRLEtBRWQsR0FEQSxFQUFLa0IsT0FBU0EsR0FDVixFQUFLQSxPQUFPRCxTQUlaLE1BQU0sSUFBSUUsTUFBTSxrRSxPQUhoQixFQUFLRCxPQUFPWCxXQUFhLEVBTzdCLEVBQUt4RSxFQUFJLEVBQUttRixPQUFPbkYsRUFDckIsRUFBS0MsRUFBSSxFQUFLa0YsT0FBT2xGLEUsRUFnQjdCLE9BakN5QyxPQW9CckMsWUFBQXFFLE1BQUEsU0FBTWUsS0FFTixZQUFBWixRQUFBLFNBQVFDLEtBRVIsWUFBQU0sVUFBQSxTQUFVQyxLQUVWLFlBQUFLLFVBQUEsU0FBVUwsVUFDQzVGLEtBQUs4RixPQUFPWCxXQUNuQm5GLEtBQUtrRyxXQUtiLEVBakNBLENBQXlDLFUsMlVDQ3pDLGNBS0ksV0FBWXRCLEVBQWtCa0IsRUFBY0ssR0FBNUMsTUFDSSxZQUFNdkIsRUFBU2tCLElBQU8sSyxPQUN0QixFQUFLSyxNQUFRQSxFLEVBV3JCLE9BbEIyQixPQVV2QixZQUFBbEIsTUFBQSxTQUFNQyxLQUdOLFlBQUFlLFVBQUEsU0FBVUwsS0FLZCxFQWxCQSxDQUEyQlEsRywyVUNEM0IsMkIsK0NBaUJBLE9BakIwQixPQUt0QixZQUFBbkIsTUFBQSxTQUFNQyxLQUdOLFlBQUFlLFVBQUEsU0FBVUwsS0FJVixZQUFBRCxVQUFBLFNBQVVDLEtBS2QsRUFqQkEsQ0FBMEJRLEcsa1ZDRzFCLGNBa0JJLG1CQUNJLGNBQU8sSyxPQUVQLEVBQUtDLGNBQWdCLElBQUksWUFDekIsRUFBS0MsU0FBUyxFQUFLRCxlQUVuQixFQUFLRSxvQkFBc0IsSUFBSSxZQUMvQixFQUFLRCxTQUFTLEVBQUtDLHFCQUVuQixFQUFLQyxnQkFBa0IsSUFBSSxZQUMzQixFQUFLRixTQUFTLEVBQUtFLGlCQUVuQixFQUFLQyxRQUFVLEcsRUErTHZCLE9BN044QixPQWtDMUIsWUFBQUMscUJBQUEsU0FBcUJDLEVBQWdCNUksR0FDakMsSUFBbUIsVUFBQTRJLEVBQVVDLFdBQVYsZUFBc0IsQ0FBcEMsSUFBTUMsRUFBSSxLQUNYLEdBQUlBLEVBQUs5SSxNQUFRQSxFQUNiLE9BQU84SSxFQUFLcEksUUFPakIsRUFBQXFJLFFBQVAsU0FBZUMsRUFBaUJDLEVBQStCbEYsR0FFM0QsSUFBTVEsRUFBTSxJQUFJMkUsRUFHWjlDLEVBQXNCLElBQUksUUFBTThDLEVBQVNDLFNBQVVELEVBQVNDLFVBQ2hFNUUsRUFBSXlDLGVBQWlCaUMsRUFBWXBILFVBQVl1RSxFQUFheEQsRUFDMUQyQixFQUFJMEMsZ0JBQWtCZ0MsRUFBWW5ILFdBQWFzRSxFQUFhdkQsRUFDNUQwQixFQUFJMEUsWUFBY0EsRUFHbEIsVUFBVUQsRUFBUyxJQUFJLFNBQVVJLEdBRzdCLElBQWlCLFVBQUFBLEVBQVFDLE9BQVIsZUFBZ0IsQ0FDN0IsR0FBZSxjQURSQyxFQUFFLE1BQ0ZDLEtBQXFCLENBRXhCaEYsRUFBSWlGLFVBQVlGLEVBQUdHLE1BQ25CbEYsRUFBSW1GLFdBQWFKLEVBQUdLLE9BR3BCcEYsRUFBSXFGLE1BQVEsSUFBSUMsTUFBTXRGLEVBQUltRixZQUMxQixJQUFJLElBQUlqSyxFQUFFLEVBQUdBLEVBQUU4RSxFQUFJcUYsTUFBTUUsT0FBUXJLLElBQzdCOEUsRUFBSXFGLE1BQU1uSyxHQUFLLElBQUlvSyxNQUFNdEYsRUFBSWlGLFdBSWpDLElBQUssSUFBSWhILEVBQU0sRUFBR0EsRUFBTThHLEVBQUdLLE9BQVFuSCxJQUMvQixJQUFLLElBQUlHLEVBQVMsRUFBR0EsRUFBUzJHLEVBQUdHLE1BQU85RyxJQUFVLENBQzlDLElBQUlvSCxFQUFRdkgsRUFBTThHLEVBQUdHLE1BQVE5RyxFQUM3QixHQUFJMkcsRUFBR1UsS0FBS0QsR0FBUyxFQUFHLENBQ3BCLElBQUlsRCxFQUFVb0MsRUFBWTNHLFdBQVdnSCxFQUFHVSxLQUFLRCxJQUN2Q0UsRUFBVSxJQUFJQyxFQUFLckQsRUFBU3JFLEVBQUtHLEVBQU80QixHQUM5Q0EsRUFBSTRGLFFBQVFGLE1BU2hDLElBQWlCLFVBQUFiLEVBQVFDLE9BQVIsZUFBZ0IsQ0FBNUIsSUFBTUMsRUFFUCxHQUFlLGdCQUZSQSxFQUFFLE1BRUZDLEtBQXVCLENBSTFCLElBQWlCLFVBQUFELEVBQUdjLFFBQUgsZUFBWSxDQVl6QixHQUFlLFdBWlJDLEVBQUUsTUFZRmQsS0FBa0IsQ0FDckIsSUFBSTNHLEVBQUlILEtBQUs2SCxNQUFNRCxFQUFHekgsRUFBSXdELEVBQWF4RCxHQUNuQ0MsR0FBS0osS0FBSzZILE1BQU1ELEVBQUd4SCxHQUFLd0gsRUFBR1YsUUFBVXZELEVBQWF2RCxFQUNoRDJCLEVBQW1CRCxFQUFJb0UscUJBQXFCMEIsRUFBSSxZQUNoREUsRUFBWSxJQUFJLEVBQU8zSCxFQUFHQyxFQUFHWixLQUFNdUMsR0FDekNELEVBQUlpRyxVQUFVRCxJQU90QixJQUFpQixVQUFBakIsRUFBR2MsUUFBSCxlQUFZLENBQXhCLElBQU1DLEVBYVAsR0FBZSxVQWJSQSxFQUFFLE1BYUZkLEtBQWlCLENBRWhCMUMsRUFBVW9DLEVBQVkzRyxXQUFXK0gsRUFBRzlILEtBQXhDLElBQ01rSSxFQUFVbEcsRUFBSW9FLHFCQUFxQjBCLEVBQUksU0FDdkNqQyxFQUFRN0QsRUFBSW1FLFFBQVErQixHQUNwQixFQUFTbEcsRUFBSW1HLGlCQUFpQkwsR0FDaENNLEVBQVcsSUFBSUMsRUFBTS9ELEVBQVMsRUFBUXVCLEdBQzFDN0QsRUFBSXNHLGNBQWNGLFFBY2pCLEdBQWUsUUFBWE4sRUFBR2QsS0FBZ0IsQ0FDcEIxQyxFQUFVb0MsRUFBWTNHLFdBQVcrSCxFQUFHOUgsS0FBeEMsSUFDTSxFQUFTZ0MsRUFBSW1HLGlCQUFpQkwsR0FDaENTLEVBQVUsSUFBSUMsRUFBS2xFLEVBQVMsR0FDaEN0QyxFQUFJc0csY0FBY0MsTUFjbEMvRyxFQUFTUSxPQUtqQixZQUFBaUcsVUFBQSxTQUFVUSxHQUVOL0ksS0FBS3lHLFFBQVFzQyxFQUFPeEcsVUFBWXdHLEVBQ2hDL0ksS0FBS3dHLGdCQUFnQkYsU0FBU3lDLEVBQU9yRixTQUd6QyxZQUFBa0YsY0FBQSxTQUFjekQsR0FDVkEsRUFBV2pCLE1BQVErQyxFQUFTOUMsYUFDNUJuRSxLQUFLd0csZ0JBQWdCRixTQUFTbkIsSUFHbEMsWUFBQStDLFFBQUEsU0FBUWMsR0FDSkEsRUFBS3JJLEVBQUlxSSxFQUFLbkUsTUFBUTdFLEtBQUtnSCxZQUFZcEgsVUFBWXFILEVBQVM5QyxhQUFheEQsRUFDekVxSSxFQUFLcEksRUFBSW9JLEVBQUtsRSxNQUFROUUsS0FBS2dILFlBQVluSCxXQUFhb0gsRUFBUzlDLGFBQWF2RCxFQUMxRW9JLEVBQUs5RSxNQUFRK0MsRUFBUzlDLGFBRXRCbkUsS0FBSzJILE1BQU1xQixFQUFLbEUsT0FBT2tFLEVBQUtuRSxPQUFTbUUsRUFDckNoSixLQUFLcUcsY0FBY0MsU0FBUzBDLElBR2hDLFlBQUFDLE1BQUEsV0FDSWpKLEtBQUtvQyxVQUFXLEdBR3BCLFlBQUFtQyxLQUFBLFdBQ0l2RSxLQUFLb0MsVUFBVyxHQUdwQixZQUFBOEcscUJBQUEsU0FBcUJ2QyxHQUlqQixJQUNJd0MsRUFEWXhDLEVBQVVoRyxFQUFJc0csRUFBUzlDLGFBQWF4RCxFQUMzQlgsS0FBSytFLGVBQzlCb0UsRUFBUzNJLEtBQUs2SCxNQUFNYyxHQUVwQixJQUNJQyxHQURhekMsRUFBVS9GLEVBQUkrRixFQUFVZSxRQUFVVCxFQUFTOUMsYUFBYXZELEVBQ2hEWixLQUFLZ0YsZ0JBRzlCLE1BQU8sQ0FBRUgsTUFBT3NFLEVBQVFyRSxNQUZ4QnNFLEVBQVM1SSxLQUFLNkgsTUFBTWUsS0FLeEIsWUFBQVgsaUJBQUEsU0FBaUI5QixHQUNiLElBQU0wQyxFQUFNckosS0FBS2tKLHFCQUFxQnZDLEdBQ3RDLE9BQU8zRyxLQUFLMkgsTUFBTTBCLEVBQUl2RSxPQUFPdUUsRUFBSXhFLFFBeE45QixFQUFBcUMsU0FBVyxFQUNYLEVBQUEvQyxhQUFzQixJQUFJLFFBQU04QyxFQUFTQyxTQUFVRCxFQUFTQyxVQTBOdkUsRUE3TkEsQ0FBOEIsYUNIeEJvQyxFQUFjLElBQUksRUFBaUIsOEJBQStCLEVBQUcsR0FBSSxHQUFJLEdBQUksS0FNdkYseUJBd0NBLE9BakNXLEVBQUFDLFVBQVAsV0FHSSxJQUdNQyxFQUFjLElBRmhCLFNBQW1CaEMsRUFBYUUsR0FBYixLQUFBRixRQUFhLEtBQUFFLFNBRWhCLENBaEJWLElBQ0MsS0FpQlgrQixFQUFZQyxRQUFVLElBQUksY0FBWUYsR0FJdEN6SSxTQUFTNEksS0FBS0MsWUFBWUgsRUFBWUMsUUFBUUcsTUFHOUM1SSxFQUFnQkgsT0FHaEIySSxFQUFZQyxRQUFRSSxPQUFPQyxJQUFJaEksRUFBZ0JHLFFBRy9DLEVBQVM0RSxRQUFRLHNCQUFzQndDLEdBQVksU0FBU1UsR0FDeER2RSxRQUFRQyxJQUFJLGNBQ1orRCxFQUFZbkgsSUFBTTBILEVBQ2xCUCxFQUFZQyxRQUFRTyxNQUFNM0QsU0FBUzBELEdBQ25DUCxFQUFZQyxRQUFRSSxPQUFPSSxRQUUzQixJQUFNekQsRUFBVXVELEVBQVV2RCxRQUMxQkEsRUFBUSxHQUFHaEMsUUFBUSxVQUFVLFlBQVksWUFBWSxhQUFhLElBQUksS0FDdEVnQyxFQUFRLEdBQUdoQyxRQUFRLElBQUksSUFBSSxJQUFJLElBQUksSUFBSSxTQUluRCxHQXhDQSxHQ1ZZOEUiLCJmaWxlIjoiYnVuZGxlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDIpO1xuIiwibW9kdWxlLmV4cG9ydHMgPSBQSVhJOyIsIm1vZHVsZS5leHBvcnRzID0gJDsiLCJpbXBvcnQgeyBUZXh0dXJlLCBTQ0FMRV9NT0RFUywgUmVjdGFuZ2xlIH0gZnJvbSBcInBpeGkuanNcIjtcblxuZXhwb3J0IGNsYXNzIFRpbGVkU3ByaXRlc2hlZXR7XG5cblx0cGF0aDogc3RyaW5nO1xuXHRib3JkZXI6IG51bWJlcjtcblx0dGlsZUhlaWdodDogbnVtYmVyO1xuXHR0aWxlV2lkdGg6IG51bWJlcjtcblx0cm93czogbnVtYmVyO1xuXHRjb2x1bW5zOiBudW1iZXI7XG5cdGJpZ1RleHR1cmU6IFRleHR1cmU7XG5cdHRleHR1cmVzOiBUZXh0dXJlW107XG5cblx0Y29uc3RydWN0b3IocGF0aCxib3JkZXIsdGlsZVdpZHRoLHRpbGVIZWlnaHQscm93cyxjb2x1bW5zKXtcblx0XHR0aGlzLnBhdGggPSBwYXRoO1xuXHRcdHRoaXMuYm9yZGVyID0gYm9yZGVyO1xuXHRcdHRoaXMudGlsZUhlaWdodCA9IHRpbGVIZWlnaHQ7XG5cdFx0dGhpcy50aWxlV2lkdGggPSB0aWxlV2lkdGg7XG5cdFx0dGhpcy5yb3dzID0gcm93cztcblx0XHR0aGlzLmNvbHVtbnMgPSBjb2x1bW5zO1xuXHRcdHRoaXMuYmlnVGV4dHVyZSA9IFRleHR1cmUuZnJvbUltYWdlKHBhdGgsIHRydWUsIFNDQUxFX01PREVTLk5FQVJFU1QpO1xuXHRcdHRoaXMudGV4dHVyZXMgPSBbXTtcblx0fVxuXG5cdGdldFRleHR1cmUoZ2lkKTpUZXh0dXJlICB7XG5cdFx0Ly9DaGVjayB3ZXRoZXIgdGV4dHVyZXMgd2FzIGFsbHJlYWR5IGZyYW1lZCBmb3JtIHNwcml0ZXNoZWV0XG5cdFx0aWYgKHRoaXMudGV4dHVyZXNbZ2lkXSkge1xuXHRcdCAgcmV0dXJuIHRoaXMudGV4dHVyZXNbZ2lkXTtcblx0XHR9IGVsc2Uge1xuXHRcdCAgLy9DYWxjdWxhdGUgcm93IGFuZCBjb2x1bW4gZnJvbSBnaWRcblx0XHQgIGxldCByb3c6bnVtYmVyID0gTWF0aC5mbG9vcigoZ2lkIC0gMSkgLyB0aGlzLmNvbHVtbnMpO1xuXHRcdCAgbGV0IGNvbHVtbjpudW1iZXIgPSAoZ2lkIC0gMSkgJSB0aGlzLmNvbHVtbnM7XG5cdFxuXHRcdCAgbGV0IHRpbGVXaWR0aDpudW1iZXIgPSB0aGlzLnRpbGVXaWR0aDtcblx0XHQgIGxldCB0aWxlSGVpZ2h0Om51bWJlciA9IHRoaXMudGlsZUhlaWdodDtcblx0XG5cdFx0ICBsZXQgeDpudW1iZXIgPSBjb2x1bW4gKiB0aWxlV2lkdGggKyBjb2x1bW4gKiB0aGlzLmJvcmRlcjtcblx0XHQgIGxldCB5Om51bWJlciA9IHJvdyAqIHRpbGVIZWlnaHQgKyByb3cgKiB0aGlzLmJvcmRlcjtcblx0XG5cdFx0ICBsZXQgdDpUZXh0dXJlID0gbmV3IFRleHR1cmUodGhpcy5iaWdUZXh0dXJlLmJhc2VUZXh0dXJlLCBuZXcgUmVjdGFuZ2xlKHgsIHksIHRpbGVXaWR0aCwgdGlsZUhlaWdodCkpO1xuXHRcdCAgLy9TYXZlIFRleHR1cmUgaW4gY2FjaGUgYXJyYXlcblx0XHQgIHRoaXMudGV4dHVyZXNbZ2lkXSA9IHQ7XG5cdFx0ICByZXR1cm4gdDtcblx0XHR9XG5cdCAgfVxuXHRcblxufSIsImV4cG9ydCBjbGFzcyBLZXlib2FyZE1hbmFnZXIge1xuXG4gICAgc3RhdGljIGtleVVwcyA9IHt9O1xuICAgIHN0YXRpYyBrZXlEb3ducyA9IHt9O1xuICAgIHN0YXRpYyBBTllfS0VZID0gXCJhbnlfa2V5XCI7XG5cbiAgICBzdGF0aWMgaW5pdCgpIHtcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCBLZXlib2FyZE1hbmFnZXIub25LZXlVcCk7XG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBLZXlib2FyZE1hbmFnZXIub25LZXlEb3duKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgb25LZXlVcChldmVudCkge1xuICAgICAgICBmb3IgKGNvbnN0IGkgaW4gS2V5Ym9hcmRNYW5hZ2VyLmtleVVwcykge1xuICAgICAgICAgICAgY29uc3QgZWxlbWVudCA9IEtleWJvYXJkTWFuYWdlci5rZXlVcHNbaV07XG4gICAgICAgICAgICBpZiAoZWxlbWVudC5rZXkgPT0gS2V5Ym9hcmRNYW5hZ2VyLkFOWV9LRVkgfHwgZXZlbnQua2V5ID09IGVsZW1lbnQua2V5KSB7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBlbGVtZW50Lm9uS2V5VXAgPT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnQub25LZXlVcChldmVudCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgc3RhdGljIG9uS2V5RG93bihldmVudCkge1xuICAgICAgICBmb3IgKGNvbnN0IGkgaW4gS2V5Ym9hcmRNYW5hZ2VyLmtleURvd25zKSB7XG4gICAgICAgICAgICBjb25zdCBlbGVtZW50ID0gS2V5Ym9hcmRNYW5hZ2VyLmtleURvd25zW2ldO1xuICAgICAgICAgICAgaWYgKGVsZW1lbnQua2V5ID09IEtleWJvYXJkTWFuYWdlci5BTllfS0VZIHx8IGV2ZW50LmtleSA9PSBlbGVtZW50LmtleSkge1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZWxlbWVudC5vbktleURvd24gPT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnQub25LZXlEb3duKGV2ZW50KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzdGF0aWMgcmVnaXN0ZXJLZXkoa2V5LCBvbktleURvd24sIG9uS2V5VXAsIGlkZW50aWZpZXIpIHtcbiAgICAgICAgS2V5Ym9hcmRNYW5hZ2VyLmtleURvd25zW2lkZW50aWZpZXJdID0geyBrZXk6IGtleSwgb25LZXlEb3duOiBvbktleURvd24gfTtcbiAgICAgICAgS2V5Ym9hcmRNYW5hZ2VyLmtleVVwc1tpZGVudGlmaWVyXSA9IHsga2V5OiBrZXksIG9uS2V5VXA6IG9uS2V5VXAgfTtcbiAgICB9XG5cbiAgICBzdGF0aWMgdW5yZWdpc3RlcktleShpZGVudGlmaWVyKSB7XG4gICAgICAgIGRlbGV0ZSBLZXlib2FyZE1hbmFnZXIua2V5RG93bnNbaWRlbnRpZmllcl07XG4gICAgICAgIGRlbGV0ZSBLZXlib2FyZE1hbmFnZXIua2V5VXBzW2lkZW50aWZpZXJdO1xuICAgIH1cblxuXG5cbn1cbiIsImV4cG9ydCBjbGFzcyBVcGRhdGVTY2hlZHVsZXIge1xuXG4gICAgc3RhdGljIGNsaWVudHM6IG9iamVjdCA9IHt9O1xuICAgIHN0YXRpYyBpc1BhdXNlZDogYm9vbGVhbiA9IGZhbHNlO1xuXG4gICAgc3RhdGljIHJlZ2lzdGVyKGlkOiBzdHJpbmcsIGNhbGxiYWNrOiBGdW5jdGlvbikge1xuICAgICAgICBVcGRhdGVTY2hlZHVsZXIuY2xpZW50c1tpZF0gPSB7XG4gICAgICAgICAgICBjYWxsYmFjazogY2FsbGJhY2tcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBzdGF0aWMgdW5yZWdpc3RlcihpZDogc3RyaW5nKSB7XG4gICAgICAgIGRlbGV0ZSBVcGRhdGVTY2hlZHVsZXIuY2xpZW50c1tpZF07XG4gICAgfVxuXG4gICAgc3RhdGljIGRvU3RlcChkZWx0YTogbnVtYmVyKSB7XG4gICAgICAgIGlmICghVXBkYXRlU2NoZWR1bGVyLmlzUGF1c2VkKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBpIGluIFVwZGF0ZVNjaGVkdWxlci5jbGllbnRzKSB7XG4gICAgICAgICAgICAgICAgbGV0IGN1cnJlbnRDYWxsYmFjayA9IFVwZGF0ZVNjaGVkdWxlci5jbGllbnRzW2ldLmNhbGxiYWNrO1xuICAgICAgICAgICAgICAgIGN1cnJlbnRDYWxsYmFjayhkZWx0YSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cblxuXG59XG4iLCJpbXBvcnQgeyBUaWxlZE1hcCB9IGZyb20gXCIuL1RpbGVkTWFwXCI7XG5pbXBvcnQgeyBQb2ludCwgZXh0cmFzLCBUZXh0dXJlLCBCYXNlVGV4dHVyZSwgUmVjdGFuZ2xlIH0gZnJvbSBcInBpeGkuanNcIjtcbmltcG9ydCB7IEtleWJvYXJkTWFuYWdlciB9IGZyb20gXCIuL0tleWJvYXJkTWFuYWdlclwiO1xuaW1wb3J0IHsgVXBkYXRlU2NoZWR1bGVyIH0gZnJvbSBcIi4vVXBkYXRlU2NoZWR1bGVyXCI7XG5cbmV4cG9ydCBjbGFzcyBQbGF5ZXIge1xuXG5cbiAgICBzdGF0aWMgVVA6IG51bWJlciA9IDA7XG4gICAgc3RhdGljIFJJR0hUOiBudW1iZXIgPSAxO1xuICAgIHN0YXRpYyBET1dOOiBudW1iZXIgPSAyO1xuICAgIHN0YXRpYyBMRUZUOiBudW1iZXIgPSAzO1xuICAgIHN0YXRpYyBTVE9QOiBudW1iZXIgPSA0O1xuXG4gICAgc3RhdGljIFNQUklURV9XSURUSDogbnVtYmVyID0gOTYgLyAzO1xuICAgIHN0YXRpYyBTUFJJVEVfSEVJR0hUOiBudW1iZXIgPSAxNDQgLyA0O1xuICAgIHN0YXRpYyBTUFJJVEVfU0NBTEU6IFBvaW50ID0gbmV3IFBvaW50KDEuNSwgMS41KTtcbiAgICBzdGF0aWMgUExBWUVSX1NQRUVEID0gNDtcblxuXG4gICAgc3ByaXRlOiBleHRyYXMuQW5pbWF0ZWRTcHJpdGU7XG4gICAgdng6IG51bWJlcjtcbiAgICB2eTogbnVtYmVyO1xuICAgIGFuaW1hdGlvbnM6IFRleHR1cmVbXVtdO1xuICAgIG1hcDogVGlsZWRNYXA7XG4gICAgbGFzdEtleTogc3RyaW5nO1xuICAgIHBsYXllcklkOm51bWJlcjtcblxuICAgIHVwS2V5OnN0cmluZztcbiAgICBkb3duS2V5OnN0cmluZztcbiAgICBsZWZ0S2V5OnN0cmluZztcbiAgICByaWdodEtleTpzdHJpbmc7XG4gICAgYWN0aW9uS2V5OnN0cmluZztcbiAgICBzZWxlY3RLZXk6c3RyaW5nO1xuXG4gICAgY29uc3RydWN0b3IoeDogbnVtYmVyLCB5OiBudW1iZXIsIG1hcDogVGlsZWRNYXAscGxheWVySWQ6bnVtYmVyKSB7XG4gICAgICAgIHRoaXMubWFwID0gbWFwO1xuICAgICAgICB0aGlzLnBsYXllcklkID0gcGxheWVySWQ7XG4gICAgICAgIHRoaXMuYW5pbWF0aW9ucyA9IFtdO1xuICAgICAgICBsZXQgYmFzZVRleHR1cmU6IEJhc2VUZXh0dXJlID0gVGV4dHVyZS5mcm9tSW1hZ2UoYGRhdGEvYXNzZXRzL3BsYXllcl8ke3BsYXllcklkfS5wbmdgKS5iYXNlVGV4dHVyZTtcbiAgICAgICAgZm9yIChsZXQgcm93ID0gMDsgcm93IDwgNDsgcm93KyspIHtcbiAgICAgICAgICAgIGxldCB0ZXh0dXJlQXJyYXk6IFRleHR1cmVbXSA9IFtdO1xuICAgICAgICAgICAgZm9yIChsZXQgY29sdW1uID0gMDsgY29sdW1uIDwgMzsgY29sdW1uKyspIHtcbiAgICAgICAgICAgICAgICBsZXQgdCA9IG5ldyBUZXh0dXJlKGJhc2VUZXh0dXJlLCBuZXcgUmVjdGFuZ2xlKGNvbHVtbiAqIFBsYXllci5TUFJJVEVfV0lEVEgsIHJvdyAqIFBsYXllci5TUFJJVEVfSEVJR0hULCBQbGF5ZXIuU1BSSVRFX1dJRFRILCBQbGF5ZXIuU1BSSVRFX0hFSUdIVCkpO1xuICAgICAgICAgICAgICAgIHRleHR1cmVBcnJheS5wdXNoKHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5hbmltYXRpb25zLnB1c2godGV4dHVyZUFycmF5KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuc3ByaXRlID0gbmV3IGV4dHJhcy5BbmltYXRlZFNwcml0ZSh0aGlzLmFuaW1hdGlvbnNbUGxheWVyLkRPV05dKTtcbiAgICAgICAgdGhpcy5zcHJpdGUueCA9IHg7XG4gICAgICAgIHRoaXMuc3ByaXRlLnkgPSB5O1xuICAgICAgICB0aGlzLnZ4ID0gMDtcbiAgICAgICAgdGhpcy52eSA9IDA7XG4gICAgICAgIHRoaXMuc3ByaXRlLnNjYWxlID0gUGxheWVyLlNQUklURV9TQ0FMRTtcbiAgICAgICAgdGhpcy5zcHJpdGUuYW5pbWF0aW9uU3BlZWQgPSAwLjEzO1xuICAgICAgICB0aGlzLnNwcml0ZS5sb29wID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5sYXN0S2V5ID0gXCJcIjtcblxuICAgICAgICAvL3JlZ2lzdGVyIGtleSBldmVudHNcbiAgICAgICAgS2V5Ym9hcmRNYW5hZ2VyLnJlZ2lzdGVyS2V5KEtleWJvYXJkTWFuYWdlci5BTllfS0VZLHRoaXMua2V5RG93bix0aGlzLmtleVVwLFwicGxheWVyXCIrcGxheWVySWQpO1xuICAgICAgICBVcGRhdGVTY2hlZHVsZXIucmVnaXN0ZXIoXCJwbGF5ZXJcIitwbGF5ZXJJZCx0aGlzLmRvU3RlcCk7XG5cbiAgICB9XG5cbiAgICBjaGFuZ2VEaXJlY3Rpb24oZGlyZWN0aW9uOiBudW1iZXIpIHtcbiAgICAgICAgaWYgKDAgPD0gZGlyZWN0aW9uICYmIGRpcmVjdGlvbiA8PSAzKSB7XG4gICAgICAgICAgICB0aGlzLnNwcml0ZS50ZXh0dXJlcyA9IHRoaXMuYW5pbWF0aW9uc1tkaXJlY3Rpb25dO1xuICAgICAgICAgICAgdGhpcy5zcHJpdGUucGxheSgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGRpcmVjdGlvbiA9PSBQbGF5ZXIuU1RPUCkge1xuICAgICAgICAgICAgdGhpcy5zcHJpdGUuc3RvcCgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgc2V0S2V5cyh1cEtleSxkb3duS2V5LGxlZnRLZXkscmlnaHRLZXksYWN0aW9uS2V5LHNlbGVjdEtleSl7XG4gICAgICAgIHRoaXMudXBLZXkgPSB1cEtleTtcbiAgICAgICAgdGhpcy5kb3duS2V5ID0gZG93bktleTtcbiAgICAgICAgdGhpcy5sZWZ0S2V5ID0gbGVmdEtleTtcbiAgICAgICAgdGhpcy5yaWdodEtleSA9IHJpZ2h0S2V5O1xuICAgICAgICB0aGlzLmFjdGlvbktleSA9IGFjdGlvbktleTtcbiAgICAgICAgdGhpcy5zZWxlY3RLZXkgPSBzZWxlY3RLZXk7XG4gICAgfVxuXG4gICAga2V5RG93biA9IChldmVudCkgPT4ge1xuICAgICAgICBpZiAoZXZlbnQua2V5ICE9IHRoaXMubGFzdEtleSkge1xuICAgICAgICAgICAgdGhpcy5sYXN0S2V5ID0gZXZlbnQua2V5O1xuICAgICAgICAgICAgc3dpdGNoIChldmVudC5rZXkpIHtcbiAgICAgICAgICAgICAgICBjYXNlIHRoaXMudXBLZXk6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2hhbmdlRGlyZWN0aW9uKFBsYXllci5VUCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudnkgPSAtMSAqIFBsYXllci5QTEFZRVJfU1BFRUQ7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgdGhpcy5kb3duS2V5OlxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNoYW5nZURpcmVjdGlvbihQbGF5ZXIuRE9XTik7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudnkgPSAxICogUGxheWVyLlBMQVlFUl9TUEVFRDtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSB0aGlzLmxlZnRLZXk6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2hhbmdlRGlyZWN0aW9uKFBsYXllci5MRUZUKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy52eCA9IC0xICogUGxheWVyLlBMQVlFUl9TUEVFRDtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSB0aGlzLnJpZ2h0S2V5OlxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNoYW5nZURpcmVjdGlvbihQbGF5ZXIuUklHSFQpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnZ4ID0gMSAqIFBsYXllci5QTEFZRVJfU1BFRUQ7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBrZXlVcCA9IChldmVudCkgPT4ge1xuICAgICAgICB0aGlzLmxhc3RLZXkgPSBcIlwiO1xuICAgICAgICBzd2l0Y2ggKGV2ZW50LmtleSkge1xuICAgICAgICAgICAgY2FzZSB0aGlzLnVwS2V5OlxuICAgICAgICAgICAgICAgIHRoaXMuY2hhbmdlRGlyZWN0aW9uKFBsYXllci5TVE9QKTtcbiAgICAgICAgICAgICAgICB0aGlzLnZ5ID0gMDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgdGhpcy5kb3duS2V5OiAgXG4gICAgICAgICAgICAgICAgdGhpcy5jaGFuZ2VEaXJlY3Rpb24oUGxheWVyLlNUT1ApO1xuICAgICAgICAgICAgICAgIHRoaXMudnkgPSAwO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSB0aGlzLmxlZnRLZXk6ICAgICAgIFxuICAgICAgICAgICAgICAgIHRoaXMuY2hhbmdlRGlyZWN0aW9uKFBsYXllci5TVE9QKTtcbiAgICAgICAgICAgICAgICB0aGlzLnZ4ID0gMDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgdGhpcy5yaWdodEtleTogICAgICAgIFxuICAgICAgICAgICAgICAgIHRoaXMuY2hhbmdlRGlyZWN0aW9uKFBsYXllci5TVE9QKTtcbiAgICAgICAgICAgICAgICB0aGlzLnZ4ID0gMDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cblxuXG4gICAgZG9TdGVwID0gKGRlbHRhKSA9PiB7XG5cbiAgICAgICAgbGV0IG5ld1ggPSB0aGlzLnNwcml0ZS54ICsgdGhpcy52eCAqIGRlbHRhO1xuICAgICAgICBsZXQgbmV3WSA9IHRoaXMuc3ByaXRlLnkgKyB0aGlzLnZ5ICogZGVsdGE7XG5cbiAgICAgICAgdGhpcy5zcHJpdGUueCA9IG5ld1g7XG4gICAgICAgIHRoaXMuc3ByaXRlLnkgPSBuZXdZO1xuXG4gICAgfVxuXG59IiwiaW1wb3J0IHsgVGlsZU9iamVjdCB9IGZyb20gXCIuL1RpbGVPYmplY3RcIjtcbmltcG9ydCB7IFRpbGVkTWFwIH0gZnJvbSBcIi4vVGlsZWRNYXBcIjtcbmltcG9ydCB7IEhpdEV2ZW50IH0gZnJvbSBcIi4vSGl0RXZlbnRcIjtcbmltcG9ydCB7IFBsYW50IH0gZnJvbSBcIi4vUGxhbnRcIjtcbmltcG9ydCB7IFRudFB1bXBraW4gfSBmcm9tIFwiLi9UbnRQdW1wa2luXCI7XG5pbXBvcnQgeyBQbGF5ZXIgfSBmcm9tIFwiLi9QbGF5ZXJcIjtcbmltcG9ydCB7IFNwcml0ZSwgVGV4dHVyZSB9IGZyb20gXCJwaXhpLmpzXCI7XG5cbmV4cG9ydCBjbGFzcyBUaWxlIGV4dGVuZHMgU3ByaXRlIHtcblxuICAgIGdyaWRYOiBudW1iZXI7XG4gICAgZ3JpZFk6IG51bWJlcjtcbiAgICB0aWxlT2JqZWN0OiBUaWxlT2JqZWN0O1xuICAgIG1hcDogVGlsZWRNYXA7XG5cbiAgICBjb25zdHJ1Y3Rvcih0ZXh0dXJlOiBUZXh0dXJlLCBncmlkWDogbnVtYmVyLCBncmlkWTogbnVtYmVyLCBtYXA6VGlsZWRNYXApIHtcbiAgICAgICAgc3VwZXIodGV4dHVyZSk7XG4gICAgICAgIHRoaXMuZ3JpZFggPSBncmlkWDtcbiAgICAgICAgdGhpcy5ncmlkWSA9IGdyaWRZO1xuICAgICAgICB0aGlzLm1hcCA9IG1hcDtcbiAgICAgICAgLy9jYWxjdWxhdGUgb3duIHJlbmRlciBjb29yZGluYXRlc1xuICAgICAgICB0aGlzLnggPSBncmlkWCAqIG1hcC5maW5hbFRpbGVXaWR0aDtcbiAgICAgICAgdGhpcy55ID0gZ3JpZFkgKiBtYXAuZmluYWxUaWxlSGVpZ2h0O1xuICAgIH1cblxuICAgIG9uSGl0KGhpdEV2ZW50OiBIaXRFdmVudCkge1xuICAgICAgICBpZiAodGhpcy50aWxlT2JqZWN0KSB7XG4gICAgICAgICAgICB0aGlzLnRpbGVPYmplY3Qub25IaXQoaGl0RXZlbnQpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgb25QbGFudChwbGFudDogUGxhbnQpIHtcbiAgICAgICAgaWYgKHRoaXMudGlsZU9iamVjdCkge1xuICAgICAgICAgICAgdGhpcy50aWxlT2JqZWN0Lm9uUGxhbnQocGxhbnQpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgb25QbGFjZShwdW1wa2luOiBUbnRQdW1wa2luKSB7XG4gICAgICAgIGlmICh0aGlzLnRpbGVPYmplY3QgPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIlBsYWNpbmcgUHVtcGtpbiBUTlRcIik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBvbkhhcnZlc3QoaW5pdGlhdG9yOiBQbGF5ZXIpIHtcbiAgICAgICAgaWYgKHRoaXMudGlsZU9iamVjdCkge1xuICAgICAgICAgICAgdGhpcy50aWxlT2JqZWN0Lm9uSGFydmVzdChpbml0aWF0b3IpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaXNGcmVlKCl7XG4gICAgICAgIHJldHVybiB0aGlzLnRpbGVPYmplY3QgPyBmYWxzZSA6IHRydWU7XG4gICAgfVxuXG5cblxuXG5cblxufSIsImltcG9ydCB7IFRpbGUgfSBmcm9tIFwiLi9UaWxlXCI7XG5pbXBvcnQgeyBIaXRFdmVudCB9IGZyb20gXCIuL0hpdEV2ZW50XCI7XG5pbXBvcnQgeyBQbGFudCB9IGZyb20gXCIuL1BsYW50XCI7XG5pbXBvcnQgeyBQbGF5ZXIgfSBmcm9tIFwiLi9QbGF5ZXJcIjtcbmltcG9ydCB7IFNwcml0ZSwgVGV4dHVyZSB9IGZyb20gXCJwaXhpLmpzXCI7XG5cbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBUaWxlT2JqZWN0IGV4dGVuZHMgU3ByaXRlIHtcblxuICAgIHBhcmVudDogVGlsZTtcbiAgICBzb2xpZDogYm9vbGVhbjtcblxuICAgIGNvbnN0cnVjdG9yKHRleHR1cmU6IFRleHR1cmUsIHBhcmVudDogVGlsZSkge1xuICAgICAgICBzdXBlcih0ZXh0dXJlKTtcbiAgICAgICAgdGhpcy5wYXJlbnQgPSBwYXJlbnQ7XG4gICAgICAgIGlmICh0aGlzLnBhcmVudC5pc0ZyZWUoKSkge1xuICAgICAgICAgICAgdGhpcy5wYXJlbnQudGlsZU9iamVjdCA9IHRoaXM7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDYW4ndCBhZGQgVGlsZU9iamVjdCB0byBhIFRpbGUgdGhhdCBhbGxyZWFkeSBoYXMgYW4gVGlsZU9iamVjdFwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vc2V0IHJlbmRlciBjb29yZGluYXRlc1xuICAgICAgICB0aGlzLnggPSB0aGlzLnBhcmVudC54O1xuICAgICAgICB0aGlzLnkgPSB0aGlzLnBhcmVudC55O1xuICAgIH1cblxuICAgIG9uSGl0KGhpdGV2ZW50OiBIaXRFdmVudCkgeyB9O1xuXG4gICAgb25QbGFudChwbGFudDogUGxhbnQpIHsgfTtcblxuICAgIG9uSGFydmVzdChpbml0aWF0b3I6IFBsYXllcikgeyB9O1xuXG4gICAgb25EZXN0cm95KGluaXRpYXRvcjogUGxheWVyKSB7XG4gICAgICAgIGRlbGV0ZSB0aGlzLnBhcmVudC50aWxlT2JqZWN0O1xuICAgICAgICB0aGlzLmRlc3Ryb3koKTtcbiAgICB9O1xuXG5cblxufSIsImltcG9ydCB7IFRpbGVPYmplY3QgfSBmcm9tIFwiLi9UaWxlT2JqZWN0XCI7XG5pbXBvcnQgeyBTdGF0dXNCYXIgfSBmcm9tIFwiLi9TdGF0dXNCYXJcIjtcbmltcG9ydCB7IFBsYXllciB9IGZyb20gXCIuL1BsYXllclwiO1xuaW1wb3J0IHsgVGlsZSB9IGZyb20gXCIuL1RpbGVcIjtcbmltcG9ydCB7IEhpdEV2ZW50IH0gZnJvbSBcIi4vSGl0RXZlbnRcIjtcbmltcG9ydCB7IFRleHR1cmUgfSBmcm9tIFwicGl4aS5qc1wiO1xuXG5leHBvcnQgY2xhc3MgVG93ZXIgZXh0ZW5kcyBUaWxlT2JqZWN0IHtcblxuICAgIG93bmVyOiBQbGF5ZXI7XG4gICAgc3RhdHVzQmFyOiBTdGF0dXNCYXI7XG5cbiAgICBjb25zdHJ1Y3Rvcih0ZXh0dXJlOiBUZXh0dXJlLCBwYXJlbnQ6IFRpbGUsIG93bmVyOiBQbGF5ZXIpIHtcbiAgICAgICAgc3VwZXIodGV4dHVyZSwgcGFyZW50KTtcbiAgICAgICAgdGhpcy5vd25lciA9IG93bmVyO1xuICAgIH1cblxuICAgIG9uSGl0KGhpdEV2ZW50OiBIaXRFdmVudCkge1xuICAgIH07XG5cbiAgICBvbkRlc3Ryb3koaW5pdGlhdG9yOiBQbGF5ZXIpIHtcblxuICAgIH1cblxuXG59IiwiaW1wb3J0IHsgVGlsZU9iamVjdCB9IGZyb20gXCIuL1RpbGVPYmplY3RcIjtcbmltcG9ydCB7IFN0YXR1c0JhciB9IGZyb20gXCIuL1N0YXR1c0JhclwiO1xuaW1wb3J0IHsgVGlsZSB9IGZyb20gXCIuL1RpbGVcIjtcbmltcG9ydCB7IEhpdEV2ZW50IH0gZnJvbSBcIi4vSGl0RXZlbnRcIjtcbmltcG9ydCB7IFBsYXllciB9IGZyb20gXCIuL1BsYXllclwiO1xuXG5leHBvcnQgY2xhc3MgVHJlZSBleHRlbmRzIFRpbGVPYmplY3Qge1xuXG4gICAgXG4gICAgc3RhdHVzQmFyOiBTdGF0dXNCYXI7XG5cbiAgICBvbkhpdChoaXRFdmVudDogSGl0RXZlbnQpIHtcbiAgICB9O1xuXG4gICAgb25EZXN0cm95KGluaXRpYXRvcjogUGxheWVyKSB7XG5cbiAgICB9XG5cbiAgICBvbkhhcnZlc3QoaW5pdGlhdG9yOlBsYXllcil7XG5cbiAgICB9XG5cblxufSIsImltcG9ydCB7IFBsYXllciB9IGZyb20gXCIuL1BsYXllclwiO1xuaW1wb3J0IHsgVGlsZWRTcHJpdGVzaGVldCB9IGZyb20gXCIuL1RpbGVkU3ByaXRlc2hlZXRcIjtcbmltcG9ydCB7IFRpbGUgfSBmcm9tIFwiLi9UaWxlXCI7XG5pbXBvcnQgeyBUb3dlciB9IGZyb20gXCIuL1Rvd2VyXCI7XG5pbXBvcnQgeyBUcmVlIH0gZnJvbSBcIi4vVHJlZVwiO1xuaW1wb3J0IHsgVGlsZU9iamVjdCB9IGZyb20gXCIuL1RpbGVPYmplY3RcIjtcbmltcG9ydCB7IENvbnRhaW5lciwgUG9pbnQsIFJlY3RhbmdsZSB9IGZyb20gXCJwaXhpLmpzXCI7XG5pbXBvcnQgKiBhcyAkIGZyb20gXCJqcXVlcnlcIjtcblxuZXhwb3J0IGNsYXNzIFRpbGVkTWFwIGV4dGVuZHMgQ29udGFpbmVyIHtcblxuICAgIHN0YXRpYyBNQVBfWk9PTSA9IDQ7XG4gICAgc3RhdGljIFNQUklURV9TQ0FMRTogUG9pbnQgPSBuZXcgUG9pbnQoVGlsZWRNYXAuTUFQX1pPT00sIFRpbGVkTWFwLk1BUF9aT09NKTtcblxuICAgIHBsYXllcnM6IFBsYXllcltdO1xuICAgIHNwcml0ZXNoZWV0OiBUaWxlZFNwcml0ZXNoZWV0O1xuICAgIGlzUGF1c2VkOiBib29sZWFuO1xuICAgIGZpbmFsVGlsZVdpZHRoOiBudW1iZXI7XG4gICAgZmluYWxUaWxlSGVpZ2h0OiBudW1iZXI7XG4gICAgdGlsZXM6IFRpbGVbXVtdO1xuICAgIGdyaWRXaWR0aDogbnVtYmVyO1xuICAgIGdyaWRIZWlnaHQ6IG51bWJlcjtcbiAgICB0aWxlQ29udGFpbmVyOiBDb250YWluZXI7XG4gICAgcGxheWVyQ29udGFpbmVyOiBDb250YWluZXI7XG4gICAgdGlsZU9iamVjdENvbnRhaW5lcjogQ29udGFpbmVyO1xuXG5cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoKTtcblxuICAgICAgICB0aGlzLnRpbGVDb250YWluZXIgPSBuZXcgQ29udGFpbmVyKCk7XG4gICAgICAgIHRoaXMuYWRkQ2hpbGQodGhpcy50aWxlQ29udGFpbmVyKTtcblxuICAgICAgICB0aGlzLnRpbGVPYmplY3RDb250YWluZXIgPSBuZXcgQ29udGFpbmVyKCk7XG4gICAgICAgIHRoaXMuYWRkQ2hpbGQodGhpcy50aWxlT2JqZWN0Q29udGFpbmVyKTtcblxuICAgICAgICB0aGlzLnBsYXllckNvbnRhaW5lciA9IG5ldyBDb250YWluZXIoKTtcbiAgICAgICAgdGhpcy5hZGRDaGlsZCh0aGlzLnBsYXllckNvbnRhaW5lcik7XG4gICAgICAgIFxuICAgICAgICB0aGlzLnBsYXllcnMgPSBbXTtcbiAgICB9XG5cblxuICAgIGdldE1hcE9iamVjdFByb3BlcnR5KG1hcE9iamVjdDogYW55LCBuYW1lOiBzdHJpbmcpIHtcbiAgICAgICAgZm9yIChjb25zdCBwcm9wIG9mIG1hcE9iamVjdC5wcm9wZXJ0aWVzKSB7XG4gICAgICAgICAgICBpZiAocHJvcC5uYW1lID09IG5hbWUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcHJvcC52YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgfVxuXG4gICAgLy9Mb2FkcyB0aGUgbWFwIHdpdGggc3ByaXRlc2hlZXQuIExhc3QgcGFyYW1ldGVyIGlzIGNhbGxiYWNrIGZ1bmN0aW9uIHdoaWNoIGlzIGNhbGxlZCBhZnRlciBwYXJzaW5nIHRoZSBtYXAgd2l0aCB0aGUgbmV3IHBhcnNlZCBtYXAgYXMgcGFyYW1ldGVyXG4gICAgc3RhdGljIGxvYWRNYXAobWFwUGF0aDogc3RyaW5nLCBzcHJpdGVzaGVldDogVGlsZWRTcHJpdGVzaGVldCwgY2FsbGJhY2s6IEZ1bmN0aW9uKSB7XG5cbiAgICAgICAgY29uc3QgbWFwID0gbmV3IFRpbGVkTWFwKCk7XG5cbiAgICAgICAgLy9Mb2FkIFNwcml0ZXNoZWV0XG4gICAgICAgIGxldCBTUFJJVEVfU0NBTEU6IFBvaW50ID0gbmV3IFBvaW50KFRpbGVkTWFwLk1BUF9aT09NLCBUaWxlZE1hcC5NQVBfWk9PTSk7XG4gICAgICAgIG1hcC5maW5hbFRpbGVXaWR0aCA9IHNwcml0ZXNoZWV0LnRpbGVXaWR0aCAqIFNQUklURV9TQ0FMRS54O1xuICAgICAgICBtYXAuZmluYWxUaWxlSGVpZ2h0ID0gc3ByaXRlc2hlZXQudGlsZUhlaWdodCAqIFNQUklURV9TQ0FMRS55O1xuICAgICAgICBtYXAuc3ByaXRlc2hlZXQgPSBzcHJpdGVzaGVldDtcblxuICAgICAgICAvL0xvYWQgTWFwIGFuZCBQYXJzZSBpdFxuICAgICAgICAkLmdldEpTT04obWFwUGF0aCwge30sIGZ1bmN0aW9uIChtYXBEYXRhKSB7XG5cbiAgICAgICAgICAgIC8vQnVpbGQgYWxsIFRpbGVMYXllcnMgZmlyc3RcbiAgICAgICAgICAgIGZvciAoY29uc3QgdGwgb2YgbWFwRGF0YS5sYXllcnMpIHtcbiAgICAgICAgICAgICAgICBpZiAodGwudHlwZSA9PSBcInRpbGVsYXllclwiKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgbWFwLmdyaWRXaWR0aCA9IHRsLndpZHRoO1xuICAgICAgICAgICAgICAgICAgICBtYXAuZ3JpZEhlaWdodCA9IHRsLmhlaWdodDtcblxuICAgICAgICAgICAgICAgICAgICAvL0luaXQgbWFwJ3MgdGlsZXMgYXJyYXlcbiAgICAgICAgICAgICAgICAgICAgbWFwLnRpbGVzID0gbmV3IEFycmF5KG1hcC5ncmlkSGVpZ2h0KTtcbiAgICAgICAgICAgICAgICAgICAgZm9yKGxldCBpPTA7IGk8bWFwLnRpbGVzLmxlbmd0aDsgaSsrKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hcC50aWxlc1tpXSA9IG5ldyBBcnJheShtYXAuZ3JpZFdpZHRoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIC8vR2VuZXJhdGUgVGlsZXMgZm9yIGVhY2ggdGlsZSB0byB0aGUgY29udGFpbmVyXG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IHJvdyA9IDA7IHJvdyA8IHRsLmhlaWdodDsgcm93KyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGNvbHVtbiA9IDA7IGNvbHVtbiA8IHRsLndpZHRoOyBjb2x1bW4rKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBpbmRleCA9IHJvdyAqIHRsLndpZHRoICsgY29sdW1uO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0bC5kYXRhW2luZGV4XSA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHRleHR1cmUgPSBzcHJpdGVzaGVldC5nZXRUZXh0dXJlKHRsLmRhdGFbaW5kZXhdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV3VGlsZSA9IG5ldyBUaWxlKHRleHR1cmUsIHJvdywgY29sdW1uLG1hcCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hcC5hZGRUaWxlKG5ld1RpbGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvL0l0ZXJhdGUgdGhyb3VnaCBPYmplY3QgTGF5ZXJzXG4gICAgICAgICAgICBmb3IgKGNvbnN0IHRsIG9mIG1hcERhdGEubGF5ZXJzKSB7XG5cbiAgICAgICAgICAgICAgICBpZiAodGwudHlwZSA9PSBcIm9iamVjdGdyb3VwXCIpIHtcblxuXG4gICAgICAgICAgICAgICAgICAgIC8vQWRkIGFsbCBwbGF5ZXJzIGZpcnN0XG4gICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgY28gb2YgdGwub2JqZWN0cykge1xuICAgICAgICAgICAgICAgICAgICAgICAgLypcbiAgICAgICAgICAgICAgICAgICAgICAgICogICAgICBfX19fXyAgXyAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAqICAgICB8ICBfXyBcXHwgfCAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICogICAgIHwgfF9fKSB8IHwgX18gXyBfICAgXyAgX19fIF8gX18gXG4gICAgICAgICAgICAgICAgICAgICAgICAqICAgICB8ICBfX18vfCB8LyBfYCB8IHwgfCB8LyBfIFxcICdfX3xcbiAgICAgICAgICAgICAgICAgICAgICAgICogICAgIHwgfCAgICB8IHwgKF98IHwgfF98IHwgIF9fLyB8ICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAqICAgICB8X3wgICAgfF98XFxfXyxffFxcX18sIHxcXF9fX3xffCAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgKiAgICAgICAgICAgICAgICAgICAgICBfXy8gfCAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICogICAgICAgICAgICAgICAgICAgICB8X19fLyAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAqL1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY28udHlwZSA9PSBcInBsYXllclwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHggPSBNYXRoLnJvdW5kKGNvLnggKiBTUFJJVEVfU0NBTEUueCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHkgPSAoTWF0aC5yb3VuZChjby55KSAtIGNvLmhlaWdodCkgKiBTUFJJVEVfU0NBTEUueTsgLy8gLWNvLmhlaWdodCBiZWNhdXNlIHRpbGVkIHVzZXMgdGhlIGJvdHRvbS1sZWZ0IGNvcm5lciBmb3IgY29vcmRpbmF0ZXMgYW5kIFBJWEkgdXNlcyB0aGUgdG9wLWxlZnQgY29ybmVyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcGxheWVySWQ6IG51bWJlciA9IG1hcC5nZXRNYXBPYmplY3RQcm9wZXJ0eShjbywgXCJwbGF5ZXJJZFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXdQbGF5ZXIgPSBuZXcgUGxheWVyKHgsIHksIHRoaXMsIHBsYXllcklkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXAuYWRkUGxheWVyKG5ld1BsYXllcik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cblxuXG5cbiAgICAgICAgICAgICAgICAgICAgLy9HZW5lcmF0ZSBTcHJpdGVzIGZvciBlYWNoIG9iamVjdCB0byB0aGUgY29udGFpbmVyXG4gICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgY28gb2YgdGwub2JqZWN0cykge1xuICAgICAgICAgICAgICAgICAgICAgICAgLypcbiAgICAgICAgICAgICAgICAgICAgICAgICAqICAgICAgX19fX19fXyAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICogICAgIHxfXyAgIF9ffCAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiAgICAgICAgfCB8IF9fX19fICAgICAgX19fX18gXyBfXyBcbiAgICAgICAgICAgICAgICAgICAgICAgICAqICAgICAgICB8IHwvIF8gXFwgXFwgL1xcIC8gLyBfIFxcICdfX3xcbiAgICAgICAgICAgICAgICAgICAgICAgICAqICAgICAgICB8IHwgKF8pIFxcIFYgIFYgLyAgX18vIHwgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAqICAgICAgICB8X3xcXF9fXy8gXFxfL1xcXy8gXFxfX198X3wgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgKi9cblxuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY28udHlwZSA9PSBcInRvd2VyXCIpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCB0ZXh0dXJlID0gc3ByaXRlc2hlZXQuZ2V0VGV4dHVyZShjby5naWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG93bmVySWQgPSBtYXAuZ2V0TWFwT2JqZWN0UHJvcGVydHkoY28sIFwib3duZXJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgb3duZXIgPSBtYXAucGxheWVyc1tvd25lcklkXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwYXJlbnQgPSBtYXAuZ2V0VGlsZU5lYXJlc3RUbyhjbyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IG5ld1Rvd2VyID0gbmV3IFRvd2VyKHRleHR1cmUsIHBhcmVudCwgb3duZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hcC5hZGRUaWxlT2JqZWN0KG5ld1Rvd2VyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuXG4gICAgICAgICAgICAgICAgICAgICAgICAvKlxuICAgICAgICAgICAgICAgICAgICAgICAgICogICAgICBfX19fX19fICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiAgICAgfF9fICAgX198ICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAqICAgICAgICB8IHxfIF9fIF9fXyAgX19fIFxuICAgICAgICAgICAgICAgICAgICAgICAgICogICAgICAgIHwgfCAnX18vIF8gXFwvIF8gXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAqICAgICAgICB8IHwgfCB8ICBfXy8gIF9fL1xuICAgICAgICAgICAgICAgICAgICAgICAgICogICAgICAgIHxffF98ICBcXF9fX3xcXF9fX3xcbiAgICAgICAgICAgICAgICAgICAgICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICogICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGNvLnR5cGUgPT0gXCJ0cmVlXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgdGV4dHVyZSA9IHNwcml0ZXNoZWV0LmdldFRleHR1cmUoY28uZ2lkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwYXJlbnQgPSBtYXAuZ2V0VGlsZU5lYXJlc3RUbyhjbyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IG5ld1RyZWUgPSBuZXcgVHJlZSh0ZXh0dXJlLCBwYXJlbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hcC5hZGRUaWxlT2JqZWN0KG5ld1RyZWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG5cblxuXG5cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vQ2FsbCBvbkZpbmlzaCBDYWxsYmFja1xuICAgICAgICAgICAgY2FsbGJhY2sobWFwKTtcbiAgICAgICAgfSk7XG5cbiAgICB9XG5cbiAgICBhZGRQbGF5ZXIocGxheWVyOiBQbGF5ZXIpIHtcbiAgICAgICAgLy9wbGF5ZXIuc3ByaXRlLnNjYWxlID0gVGlsZWRNYXAuU1BSSVRFX1NDQUxFO1xuICAgICAgICB0aGlzLnBsYXllcnNbcGxheWVyLnBsYXllcklkXSA9IHBsYXllcjtcbiAgICAgICAgdGhpcy5wbGF5ZXJDb250YWluZXIuYWRkQ2hpbGQocGxheWVyLnNwcml0ZSk7XG4gICAgfVxuXG4gICAgYWRkVGlsZU9iamVjdCh0aWxlT2JqZWN0OiBUaWxlT2JqZWN0KSB7XG4gICAgICAgIHRpbGVPYmplY3Quc2NhbGUgPSBUaWxlZE1hcC5TUFJJVEVfU0NBTEU7XG4gICAgICAgIHRoaXMucGxheWVyQ29udGFpbmVyLmFkZENoaWxkKHRpbGVPYmplY3QpO1xuICAgIH1cblxuICAgIGFkZFRpbGUodGlsZTogVGlsZSkge1xuICAgICAgICB0aWxlLnggPSB0aWxlLmdyaWRYICogdGhpcy5zcHJpdGVzaGVldC50aWxlV2lkdGggKiBUaWxlZE1hcC5TUFJJVEVfU0NBTEUueDtcbiAgICAgICAgdGlsZS55ID0gdGlsZS5ncmlkWSAqIHRoaXMuc3ByaXRlc2hlZXQudGlsZUhlaWdodCAqIFRpbGVkTWFwLlNQUklURV9TQ0FMRS55O1xuICAgICAgICB0aWxlLnNjYWxlID0gVGlsZWRNYXAuU1BSSVRFX1NDQUxFO1xuXG4gICAgICAgIHRoaXMudGlsZXNbdGlsZS5ncmlkWV1bdGlsZS5ncmlkWF0gPSB0aWxlO1xuICAgICAgICB0aGlzLnRpbGVDb250YWluZXIuYWRkQ2hpbGQodGlsZSk7XG4gICAgfVxuXG4gICAgcGF1c2UoKSB7XG4gICAgICAgIHRoaXMuaXNQYXVzZWQgPSB0cnVlO1xuICAgIH1cblxuICAgIHBsYXkoKSB7XG4gICAgICAgIHRoaXMuaXNQYXVzZWQgPSBmYWxzZTtcbiAgICB9XG5cbiAgICBnZXRPYmplY3RDb29yZGluYXRlcyhtYXBPYmplY3Q6IFJlY3RhbmdsZSkge1xuXG4gICAgICAgIC8vYW4gT2JqZWN0IGNhbiBiZSBwbGFjZWQgXCJiZXR3ZWVuXCIgdGlsZXMgaW4gdGlsZWQgbWFwIGVkaXRvci4gQnV0IGV2bnRzIGNhbiBiZSB0cmlnZ2VyZWQgb25seSBmcm9tIHdob2xlIHRpbGVzLiBTbyB0aGUgb2JlamNjdHMgcG9zaXRpb24gaXMgbWFwcGVkIHRvIHRoZSBuZWFyZXN0IFRpbGVcblxuICAgICAgICBsZXQgb3JpZ2luYWxYID0gbWFwT2JqZWN0LnggKiBUaWxlZE1hcC5TUFJJVEVfU0NBTEUueDtcbiAgICAgICAgbGV0IHhUaWxlcyA9IG9yaWdpbmFsWCAvIHRoaXMuZmluYWxUaWxlV2lkdGg7XG4gICAgICAgIHhUaWxlcyA9IE1hdGgucm91bmQoeFRpbGVzKTtcblxuICAgICAgICBsZXQgb3JpZ2luYWxZID0gKG1hcE9iamVjdC55IC0gbWFwT2JqZWN0LmhlaWdodCkgKiBUaWxlZE1hcC5TUFJJVEVfU0NBTEUueTsgIC8vIC1jby5oZWlnaHQgYmVjYXVzZSB0aWxlZCB1c2VzIHRoZSBib3R0b20tbGVmdCBjb3JuZXIgZm9yIGNvb3JkaW5hdGVzIGFuZCBQSVhJIHVzZXMgdGhlIHRvcC1sZWZ0IGNvcm5lciAgICAgICAgICAgICAgXG4gICAgICAgIGxldCB5VGlsZXMgPSBvcmlnaW5hbFkgLyB0aGlzLmZpbmFsVGlsZUhlaWdodDtcbiAgICAgICAgeVRpbGVzID0gTWF0aC5yb3VuZCh5VGlsZXMpO1xuXG4gICAgICAgIHJldHVybiB7IGdyaWRYOiB4VGlsZXMsIGdyaWRZOiB5VGlsZXMgfTtcbiAgICB9XG5cbiAgICBnZXRUaWxlTmVhcmVzdFRvKG1hcE9iamVjdDogUmVjdGFuZ2xlKTogVGlsZSB7XG4gICAgICAgIGNvbnN0IHBvcyA9IHRoaXMuZ2V0T2JqZWN0Q29vcmRpbmF0ZXMobWFwT2JqZWN0KTtcbiAgICAgICAgcmV0dXJuIHRoaXMudGlsZXNbcG9zLmdyaWRZXVtwb3MuZ3JpZFhdO1xuICAgIH1cblxufSIsImltcG9ydCB7IFRpbGVkU3ByaXRlc2hlZXQgfSBmcm9tIFwiLi9UaWxlZFNwcml0ZXNoZWV0XCI7XG5pbXBvcnQgeyBUaWxlZE1hcCB9IGZyb20gXCIuL1RpbGVkTWFwXCI7XG5pbXBvcnQgeyBLZXlib2FyZE1hbmFnZXIgfSBmcm9tIFwiLi9LZXlib2FyZE1hbmFnZXJcIjtcbmltcG9ydCB7IFVwZGF0ZVNjaGVkdWxlciB9IGZyb20gXCIuL1VwZGF0ZVNjaGVkdWxlclwiO1xuaW1wb3J0IHsgQXBwbGljYXRpb24sIEFwcGxpY2F0aW9uT3B0aW9ucyB9IGZyb20gXCJwaXhpLmpzXCI7XG5cbmNvbnN0IFNQUklURVNIRUVUID0gbmV3IFRpbGVkU3ByaXRlc2hlZXQoXCJkYXRhL2Fzc2V0cy9zcHJpdGVzaGVldC5wbmdcIiwgMSwgMTYsIDE2LCAzMSwgNTcpIC8vS2VubnkgU3ByaXRlc2hlZXQgc2VlIGRhdGEvbWFwcy9LZW5uZXkgUlBHIFRpbGVzLnRzeFxuLy9UT0RPIFBhcnNlIHRoaXMgaW5mb3JtYXRpb24gYXV0b21hdGl4YWxseSBmcm9tIHRzeCBmaWxlXG5cbmNvbnN0IEFQUF9XSURUSCA9IDUxMjtcbmNvbnN0IEFQUF9IRUlHSFQgPSA1MTI7XG5cbmV4cG9ydCBjbGFzcyBHYW1lTWFuYWdlciB7XG5cbiAgICBzdGF0aWMgbWFwOiBUaWxlZE1hcDtcblxuICAgIHN0YXRpYyBwaXhpQXBwIDogQXBwbGljYXRpb247XG5cblxuICAgIHN0YXRpYyBzdGFydEdhbWUoKSB7XG4gICAgICAgIC8vQ3JlYXRlIFBpeGkgc3R1ZmZcbiAgICAgICAgLy9DcmVhdGUgYSBQaXhpIEFwcGxpY2F0aW9uXG4gICAgICAgIGNsYXNzIFBpeGlPcHRpb25zIGltcGxlbWVudHMgQXBwbGljYXRpb25PcHRpb25ze1xuICAgICAgICAgICAgY29uc3RydWN0b3IocHVibGljIHdpZHRoLHB1YmxpYyBoZWlnaHQpe31cbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwaXhpT3B0aW9ucyA9IG5ldyBQaXhpT3B0aW9ucyhBUFBfV0lEVEgsQVBQX0hFSUdIVCk7XG5cbiAgICAgICAgR2FtZU1hbmFnZXIucGl4aUFwcCA9IG5ldyBBcHBsaWNhdGlvbihwaXhpT3B0aW9ucyk7XG5cbiAgICAgICAgLy9BZGQgdGhlIGNhbnZhcyB0aGF0IFBpeGkgYXV0b21hdGljYWxseSBjcmVhdGVkIGZvciB5b3UgdG8gdGhlIEhUTUwgZG9jdW1lbnRcbiAgICAgICAgLy9TdGlsbCBuZWNjZXNhcnJ5Pz8/P1xuICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKEdhbWVNYW5hZ2VyLnBpeGlBcHAudmlldyk7XG5cbiAgICAgICAgLy9Jbml0IEtleWJvYXJkIE1hbmFnZXJcbiAgICAgICAgS2V5Ym9hcmRNYW5hZ2VyLmluaXQoKTtcblxuICAgICAgICAvL1JlZ2lzdGVyIFVwZGF0ZSBzY2hlZHVsZXJcbiAgICAgICAgR2FtZU1hbmFnZXIucGl4aUFwcC50aWNrZXIuYWRkKFVwZGF0ZVNjaGVkdWxlci5kb1N0ZXApO1xuXG4gICAgICAgIFxuICAgICAgICBUaWxlZE1hcC5sb2FkTWFwKFwiZGF0YS9tYXBzL21hcDEuanNvblwiLFNQUklURVNIRUVULGZ1bmN0aW9uKHBhcnNlZE1hcDpUaWxlZE1hcCl7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIk1hcCBwYXJzZWRcIik7XG4gICAgICAgICAgICBHYW1lTWFuYWdlci5tYXAgPSBwYXJzZWRNYXA7XG4gICAgICAgICAgICBHYW1lTWFuYWdlci5waXhpQXBwLnN0YWdlLmFkZENoaWxkKHBhcnNlZE1hcCk7XG4gICAgICAgICAgICBHYW1lTWFuYWdlci5waXhpQXBwLnRpY2tlci5zdGFydCgpO1xuXG4gICAgICAgICAgICBjb25zdCBwbGF5ZXJzID0gcGFyc2VkTWFwLnBsYXllcnM7XG4gICAgICAgICAgICBwbGF5ZXJzWzBdLnNldEtleXMoXCJBcnJvd1VwXCIsXCJBcnJvd0Rvd25cIixcIkFycm93TGVmdFwiLFwiQXJyb3dSaWdodFwiLFwibVwiLFwiblwiKTtcbiAgICAgICAgICAgIHBsYXllcnNbMV0uc2V0S2V5cyhcIndcIixcInNcIixcImFcIixcImRcIixcInhcIixcInlcIik7XG4gICAgICAgIH0pO1xuICAgIH1cblxufSIsImltcG9ydCB7R2FtZU1hbmFnZXJ9IGZyb20gXCIuL21vZGVsL0dhbWVNYW5hZ2VyXCJcblxuR2FtZU1hbmFnZXIuc3RhcnRHYW1lKCk7Il0sInNvdXJjZVJvb3QiOiIifQ==